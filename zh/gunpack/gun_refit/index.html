<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>枪械改装支持 | 永恒枪械工坊</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="永恒枪械工坊帮助文档">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.07ceaf31.js" as="script"><link rel="preload" href="/assets/js/2.049e3171.js" as="script"><link rel="preload" href="/assets/js/1.70084184.js" as="script"><link rel="preload" href="/assets/js/23.e331b072.js" as="script"><link rel="prefetch" href="/assets/js/10.b2ca5b2b.js"><link rel="prefetch" href="/assets/js/11.2b74b556.js"><link rel="prefetch" href="/assets/js/12.5816de56.js"><link rel="prefetch" href="/assets/js/13.4ae8cdc6.js"><link rel="prefetch" href="/assets/js/14.71770a62.js"><link rel="prefetch" href="/assets/js/15.f816c1a1.js"><link rel="prefetch" href="/assets/js/16.02cd4362.js"><link rel="prefetch" href="/assets/js/17.2c48ed4f.js"><link rel="prefetch" href="/assets/js/18.8f67e51b.js"><link rel="prefetch" href="/assets/js/19.ba7fe73d.js"><link rel="prefetch" href="/assets/js/20.fdbc8384.js"><link rel="prefetch" href="/assets/js/21.08e99c2b.js"><link rel="prefetch" href="/assets/js/22.4394b15d.js"><link rel="prefetch" href="/assets/js/24.c5546440.js"><link rel="prefetch" href="/assets/js/25.85650ea9.js"><link rel="prefetch" href="/assets/js/26.937283b9.js"><link rel="prefetch" href="/assets/js/27.9926aaf1.js"><link rel="prefetch" href="/assets/js/28.154ac9a8.js"><link rel="prefetch" href="/assets/js/29.ba5a2dfc.js"><link rel="prefetch" href="/assets/js/3.f33fec3e.js"><link rel="prefetch" href="/assets/js/30.ef2535a3.js"><link rel="prefetch" href="/assets/js/31.e36f61e2.js"><link rel="prefetch" href="/assets/js/32.72161aea.js"><link rel="prefetch" href="/assets/js/33.7925b18d.js"><link rel="prefetch" href="/assets/js/34.92f45d41.js"><link rel="prefetch" href="/assets/js/35.e4c76a76.js"><link rel="prefetch" href="/assets/js/36.f93d9e5b.js"><link rel="prefetch" href="/assets/js/37.6adfcff1.js"><link rel="prefetch" href="/assets/js/38.ad84db08.js"><link rel="prefetch" href="/assets/js/39.5d5b30af.js"><link rel="prefetch" href="/assets/js/4.68deb6b5.js"><link rel="prefetch" href="/assets/js/40.34b4fa2e.js"><link rel="prefetch" href="/assets/js/41.e56ad795.js"><link rel="prefetch" href="/assets/js/42.e064385b.js"><link rel="prefetch" href="/assets/js/43.881e3ea5.js"><link rel="prefetch" href="/assets/js/44.d01abf27.js"><link rel="prefetch" href="/assets/js/45.0a54fe46.js"><link rel="prefetch" href="/assets/js/46.55a9d6c4.js"><link rel="prefetch" href="/assets/js/47.69d765e5.js"><link rel="prefetch" href="/assets/js/5.8a0cb5a0.js"><link rel="prefetch" href="/assets/js/6.67385796.js"><link rel="prefetch" href="/assets/js/7.c91f2a17.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f34bf77b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><!----> <span class="site-name">永恒枪械工坊</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  en-US
</a></li><li class="dropdown-item"><!----> <a href="/zh/gunpack/gun_refit/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  zh-CN
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  en-US
</a></li><li class="dropdown-item"><!----> <a href="/zh/gunpack/gun_refit/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  zh-CN
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/zh/" aria-current="page" class="sidebar-link">永恒枪械工坊</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/gunpack/" class="sidebar-heading clickable router-link-active open"><span>枪包说明文档</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/gunpack/first_gunpack/" class="sidebar-link">创建第一个枪包</a></li><li><a href="/zh/gunpack/language/" class="sidebar-link">创建并使用语言文件</a></li><li><a href="/zh/gunpack/first_gun/" class="sidebar-link">创建第一把枪</a></li><li><a href="/zh/gunpack/gun_positioning/" class="sidebar-link">调整枪械模型定位组</a></li><li><a href="/zh/gunpack/hud_icon/" class="sidebar-link">为枪械创建 HUD Icon</a></li><li><a href="/zh/gunpack/gun_sound/" class="sidebar-link">添加枪械音效</a></li><li><a href="/zh/gunpack/gun_extra_damage/" class="sidebar-link">额外伤害</a></li><li><a href="/zh/gunpack/ammo/" class="sidebar-link">创建弹药</a></li><li><a href="/zh/gunpack/shell_ejection/" class="sidebar-link">抛壳</a></li><li><a href="/zh/gunpack/muzzle_flash/" class="sidebar-link">枪口火焰</a></li><li><a href="/zh/gunpack/hand_pos/" class="sidebar-link">手臂定位组</a></li><li><a href="/zh/gunpack/animation/" class="sidebar-link">动画制作规范</a></li><li><a href="/zh/gunpack/ica/" class="sidebar-link">/zh/gunpack/ica/</a></li><li><a href="/zh/gunpack/bolt_type/" class="sidebar-link">/zh/gunpack/bolt_type/</a></li><li><a href="/zh/gunpack/attachment/" class="sidebar-link">添加配件</a></li><li><a href="/zh/gunpack/gun_refit/" aria-current="page" class="active sidebar-link">枪械改装支持</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/gunpack/gun_refit/#受配件影响的枪械模型分组" class="sidebar-link">受配件影响的枪械模型分组</a></li><li class="sidebar-sub-header"><a href="/zh/gunpack/gun_refit/#设置定位组" class="sidebar-link">设置定位组</a></li><li class="sidebar-sub-header"><a href="/zh/gunpack/gun_refit/#开启配件槽" class="sidebar-link">开启配件槽</a></li><li class="sidebar-sub-header"><a href="/zh/gunpack/gun_refit/#更改配件tag" class="sidebar-link">更改配件TAG</a></li></ul></li><li><a href="/zh/gunpack/lod/" class="sidebar-link">降低渲染压力的低精度模型</a></li><li><a href="/zh/gunpack/recipe/" class="sidebar-link">合成配方</a></li><li><a href="/zh/gunpack/tag/" class="sidebar-link">/zh/gunpack/tag/</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/zh/model_guide/" class="sidebar-heading clickable"><span>模型建造指南</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="枪械改装支持"><a href="#枪械改装支持" class="header-anchor">#</a> 枪械改装支持</h1> <p>本篇教程内容作者: Lesraisins-伯爵<br></p><div class="table-of-contents"><ul><li><a href="#受配件影响的枪械模型分组">受配件影响的枪械模型分组</a></li><li><a href="#设置定位组">设置定位组</a><ul><li><a href="#装配界面摄像机定位组">装配界面摄像机定位组</a></li><li><a href="#模型定位组">模型定位组</a></li><li><a href="#弹匣、扩容弹匣">弹匣、扩容弹匣</a></li></ul></li><li><a href="#开启配件槽">开启配件槽</a></li><li><a href="#更改配件tag">更改配件TAG</a><ul><li><a href="#使用通用配件">使用通用配件</a></li><li><a href="#指定特定配件">指定特定配件</a></li><li><a href="#创建自定义配件tag">创建自定义配件TAG</a></li><li><a href="#扩展已经存在的tag">扩展已经存在的TAG</a></li></ul></li></ul></div><p></p> <h2 id="受配件影响的枪械模型分组"><a href="#受配件影响的枪械模型分组" class="header-anchor">#</a> 受配件影响的枪械模型分组</h2> <blockquote><p>在枪械模型中，如果一个分组被命名为以下名称之一，它将会被配件影响。</p></blockquote> <p><strong>默认配件</strong>：xxx_default<br>
在不安装任何配件时渲染的配件模型，其中 xxx 替换为具体的配件类型：scope、grip、stock、muzzle、laser、extended_mag<br> <strong>默认机瞄</strong>：sight<br>
在不安装任何瞄具下渲染的机瞄配件<br> <strong>默认护木与战术护木</strong>: handguard_default/handguard_tactical<br>
在不安装握把配件时渲染: handguard_default<br>
在安装任意握把配件时渲染: handguard_tactical<br> <strong>镜桥</strong>：mount<br>
在安装任意瞄具后渲染的镜桥</p> <h2 id="设置定位组"><a href="#设置定位组" class="header-anchor">#</a> 设置定位组</h2> <h3 id="装配界面摄像机定位组"><a href="#装配界面摄像机定位组" class="header-anchor">#</a> 装配界面摄像机定位组</h3> <blockquote><p>在游戏内持枪按【Z】打开装配界面</p></blockquote> <p><img src="/assets/img/attachments.f65a087a.png" alt=""></p> <p>以下是所有的装配界面中枪械模型的摄像机定位组。你可以在 blockbench 为它们添加摄像机用于预览。</p> <p><strong>总览</strong>：refit_view<br> <strong>枪口</strong>：refit_muzzle_view<br> <strong>枪托</strong>：refit_stock_view<br> <strong>瞄具</strong>：refit_scope_view<br> <strong>弹匣</strong>：refit_extended_mag_view<br> <strong>握把</strong>：refit_grip_view<br> <strong>镭射</strong>：refit_laser_view<br> <img src="/assets/img/view.8e0afe62.png" alt=""></p> <h3 id="模型定位组"><a href="#模型定位组" class="header-anchor">#</a> 模型定位组</h3> <blockquote><p>为使枪械配件能在枪械上正确的位置渲染，我们需要在枪械的模型中为它们添加定位组</p></blockquote> <ol><li><p>选择你需要的定位组，在合适的分组子目录下创建它们，确保它们能够受到枪械动画的影响。以下是支持的配件定位组的名称</p> <p><strong>枪口</strong>：muzzle_pos<br> <strong>镭射</strong>：laser_pos<br> <strong>瞄具</strong>：scope_pos<br> <strong>枪托</strong>：stock_pos<br> <strong>握把</strong>：grip_pos</p></li> <li><p>移动配件定位组到枪械对应的位置，下图以<strong>瞄具scope_pos</strong>为例。一般来说，我们需要将定位组放在导轨的接触面上。</p></li></ol> <p><img src="/assets/img/refit_pos.1c4dd15b.png" alt="pos"></p> <p><img src="/assets/img/scope_pos.ac62786a.png" alt="scope_pos"></p> <h3 id="弹匣、扩容弹匣"><a href="#弹匣、扩容弹匣" class="header-anchor">#</a> 弹匣、扩容弹匣</h3> <p>如果你需要使用扩容弹匣，你<strong>必须</strong>创建一个 <strong>magazine</strong> 分组，然后将普通弹匣和扩容弹匣分组全部置入其中，否则弹匣不会正常渲染。</p> <p>普通弹匣模型分组的名称应该被改为：<strong>mag_standard</strong>。</p> <p>扩容弹匣模型从 1 级 到 3级 分别应该被命名为：<strong>mag_extended_1</strong> ~ <strong>mag_extended_3</strong>。</p> <p><img src="/assets/img/mag_exd.386d0ca1.png" alt="mag_exd"></p> <h2 id="开启配件槽"><a href="#开启配件槽" class="header-anchor">#</a> 开启配件槽</h2> <p>打开枪械数据文件 namespace/gun/data/xxx_data.json</p> <p>新增以下代码，选择并填写该枪械所支持的配件。</p> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token comment">// 开放的配件槽。未指定的槽位默认关闭。全部配件槽类型有:</span>
  <span class="token comment">// scope, stock, muzzle, grip, laser, extended_mag</span>
  <span class="token property">&quot;allow_attachment_types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;scope&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;stock&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;muzzle&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;grip&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;laser&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;extended_mag&quot;</span>
  <span class="token punctuation">]</span>
</code></pre></div><p>若武器支持扩容弹匣，则需添加以下代码规定不同等级的扩容弹匣所包含的弹药总数</p> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token comment">// 扩容弹夹弹药总数</span>
  <span class="token property">&quot;extended_mag_ammo_amount&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token number">45</span><span class="token punctuation">,</span>
    <span class="token number">70</span><span class="token punctuation">,</span>
    <span class="token number">100</span>
  <span class="token punctuation">]</span>
</code></pre></div><h2 id="更改配件tag"><a href="#更改配件tag" class="header-anchor">#</a> 更改配件TAG</h2> <blockquote><p>目前 tacz 使用了一套 tag 系统规定武器所支持的配件</p></blockquote> <h3 id="使用通用配件"><a href="#使用通用配件" class="header-anchor">#</a> 使用通用配件</h3> <ol><li>在枪包<strong>命名空间目录</strong>下新建文件夹 tags/attachments/allow_attachments</li> <li>在该文件夹下创建文件 '{your_gun_name}.json' ( ak47.json for example )
<img src="/assets/img/gunname.4c8a55e7.png" alt="gunname"></li> <li>打开文件并在其中填写所支持的配件类型</li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token string">&quot;#tacz:scope&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;#tacz:muzzle&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;#tacz:extended_mag&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;#tacz:stock&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;#tacz:grip&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;#tacz:laser&quot;</span>
<span class="token punctuation">]</span>
</code></pre></div><blockquote><p>以 '#' 开头的条目将会被视为 tag。tacz 使用的 tag 系统与原版类似，可以在 tag 中包含其他 tag。如果这么做，前者将被视为包含后者所包含的所有内容。</p></blockquote> <h3 id="指定特定配件"><a href="#指定特定配件" class="header-anchor">#</a> 指定特定配件</h3> <ol><li>打开 tags/attachments/allow_attachments 中枪械对应的 tag 文件。</li> <li>直接指定配件 id。如下图，直接指定了默认枪包中的 SRO Dot 。</li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token string">&quot;tacz:sro_dot&quot;</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="创建自定义配件tag"><a href="#创建自定义配件tag" class="header-anchor">#</a> 创建自定义配件TAG</h3> <blockquote><p>在 tags/ 文件夹下的任何 JSON 文件都将被视为 tag 被加载</p></blockquote> <ol><li>在 tags/attachments/ 文件夹下新建文件 '{tag_name}.json' (例如：my_grips.json)</li> <li>向 tag 文件中添加条目。注意，只能将<strong>配件 id</strong> 或者 tags/attachments/ 下的其他 tag 作为条目。</li> <li>在其他地方使用这个 tag。如果你的命名空间为 abc，那么位于 tags/attachments/ 文件夹下的 def.json 的全称是：abc:def。</li></ol> <h3 id="扩展已经存在的tag"><a href="#扩展已经存在的tag" class="header-anchor">#</a> 扩展已经存在的TAG</h3> <p>以 #tacz:scope 为例。</p> <ol><li>在枪包<strong>根目录</strong>下建立对应的命名空间文件夹，此例中为 tacz。</li> <li>在新建的命名空间下创建 tags 文件夹。</li> <li>在完全相同的路径下放一个同名 tag 文件，此例中为：tacz/tags/attachments/scope.json</li> <li>直接把需要扩展的条目加入其中。tacz 读取 tag 时，会自动收集所有同路径同名的 tag 文件中罗列的条目，而不是覆盖。</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/gunpack/attachment/" class="prev">
        添加配件
      </a></span> <span class="next"><a href="/zh/gunpack/lod/">
        降低渲染压力的低精度模型
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.07ceaf31.js" defer></script><script src="/assets/js/2.049e3171.js" defer></script><script src="/assets/js/1.70084184.js" defer></script><script src="/assets/js/23.e331b072.js" defer></script>
  </body>
</html>
